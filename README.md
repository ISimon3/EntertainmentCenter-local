# å¨±ä¹ä¸­å¿ƒç³»ç»Ÿ

ä¸€ä¸ªåŸºäºFastAPI + HTML/CSS/JavaScriptçš„åœ¨çº¿å¨±ä¹æ¸¸æˆå¹³å°ï¼Œæä¾›åˆ®åˆ®ä¹ã€è€è™æœºã€å¹¸è¿å¤§è½¬ç›˜ç­‰å¤šç§æ¸¸æˆã€‚

## ğŸ® åŠŸèƒ½ç‰¹æ€§

- **å¤šç§æ¸¸æˆç±»å‹**ï¼šåˆ®åˆ®ä¹ã€è€è™æœºã€å¹¸è¿å¤§è½¬ç›˜
- **ç”¨æˆ·ç³»ç»Ÿ**ï¼šæ³¨å†Œã€ç™»å½•ã€ç§¯åˆ†ç®¡ç†
- **æ¸¸æˆè®°å½•**ï¼šå®Œæ•´çš„æ¸¸æˆå†å²å’Œç»Ÿè®¡
- **ç®¡ç†åå°**ï¼šæ¸¸æˆé…ç½®ã€ç”¨æˆ·ç®¡ç†ã€æ•°æ®ç»Ÿè®¡
- **å“åº”å¼è®¾è®¡**ï¼šæ”¯æŒæ¡Œé¢å’Œç§»åŠ¨è®¾å¤‡

## ğŸ“ é¡¹ç›®ç»“æ„

```
EntertainmentCenter-local/
â”œâ”€â”€ backend/                 # åç«¯APIæœåŠ¡
â”‚   â”œâ”€â”€ app/                # FastAPIåº”ç”¨
â”‚   â”‚   â”œâ”€â”€ api/           # APIè·¯ç”±
â”‚   â”‚   â”œâ”€â”€ core/          # æ ¸å¿ƒåŠŸèƒ½ï¼ˆè®¤è¯ã€å®‰å…¨ç­‰ï¼‰
â”‚   â”‚   â”œâ”€â”€ games/         # æ¸¸æˆé€»è¾‘
â”‚   â”‚   â”œâ”€â”€ models/        # æ•°æ®åº“æ¨¡å‹
â”‚   â”‚   â”œâ”€â”€ schemas/       # Pydanticæ¨¡å¼
â”‚   â”‚   â””â”€â”€ utils/         # å·¥å…·å‡½æ•°
â”‚   â”œâ”€â”€ requirements.txt   # Pythonä¾èµ–
â”‚   â””â”€â”€ run.py            # å¯åŠ¨è„šæœ¬
â”œâ”€â”€ frontend/               # å‰ç«¯ç•Œé¢
â”‚   â”œâ”€â”€ client/           # ç”¨æˆ·ç«¯ç•Œé¢
â”‚   â”œâ”€â”€ admin/            # ç®¡ç†ç«¯ç•Œé¢
â”‚   â”œâ”€â”€ css/              # æ ·å¼æ–‡ä»¶
â”‚   â”œâ”€â”€ js/               # JavaScriptæ–‡ä»¶
â”‚   â””â”€â”€ index.html        # ä¸»é¡µé¢
â”œâ”€â”€ database/               # æ•°æ®åº“æ–‡ä»¶ï¼ˆé¡¹ç›®ç»Ÿä¸€ä½¿ç”¨æ­¤ç›®å½•ï¼‰
â”‚   â””â”€â”€ entertainment.db   # SQLiteæ•°æ®åº“
â””â”€â”€ docs/                  # é¡¹ç›®æ–‡æ¡£
```

## ğŸš€ å¿«é€Ÿå¯åŠ¨

### ç¯å¢ƒè¦æ±‚
- Python 3.8+
- ç°ä»£æµè§ˆå™¨ï¼ˆChromeã€Firefoxã€Safariã€Edgeï¼‰

### 1. å®‰è£…ä¾èµ–
```bash
cd backend
pip install -r requirements.txt
```

### 2. å¯åŠ¨åç«¯æœåŠ¡
```bash
cd backend
python run.py
```
åç«¯æœåŠ¡å°†åœ¨ http://localhost:8000 å¯åŠ¨

### 3. æ‰“å¼€å‰ç«¯ç•Œé¢
ç”¨æµè§ˆå™¨æ‰“å¼€ `frontend/index.html`

## ğŸ¯ é»˜è®¤è´¦æˆ·

ç³»ç»Ÿä¼šè‡ªåŠ¨åˆ›å»ºç®¡ç†å‘˜è´¦æˆ·ï¼š
- **ç”¨æˆ·å**: admin
- **å¯†ç **: admin123  
- **åˆå§‹ç§¯åˆ†**: 10000

## ğŸ² æ¸¸æˆä»‹ç»

### åˆ®åˆ®ä¹æ¸¸æˆ
- **ç¦åˆ©å½©ç¥¨åˆ®åˆ®ä¹**ï¼šè´¹ç”¨10ç§¯åˆ†ï¼Œç›´æ¥å¥–é‡‘ç©æ³•
- **æ–°å¹´ç¦è¿åˆ®åˆ®ä¹**ï¼šè´¹ç”¨15ç§¯åˆ†ï¼Œç¬¦å·åŒ¹é…ç©æ³•
- **å¹¸è¿ç¬¦å·åˆ®åˆ®ä¹**ï¼šè´¹ç”¨20ç§¯åˆ†ï¼Œå¹¸è¿ç¬¦å·ç©æ³•

### è€è™æœºæ¸¸æˆ
- å¤šç§ç¬¦å·ç»„åˆ
- æ”¯ä»˜çº¿ç³»ç»Ÿ
- ç´¯ç§¯å¥–æ± 

### å¹¸è¿å¤§è½¬ç›˜
- 8ä¸ªå¥–åŠ±æ‰‡åŒº
- ä¸åŒæ¦‚ç‡è®¾ç½®
- åŠ¨ç”»è½¬ç›˜æ•ˆæœ

## ğŸ“Š æ•°æ®åº“è¯´æ˜

### é‡è¦ï¼šæ•°æ®åº“ä½ç½®ç»Ÿä¸€
é¡¹ç›®ä½¿ç”¨ **é¡¹ç›®æ ¹ç›®å½•** ä¸‹çš„ `database/entertainment.db` ä½œä¸ºå”¯ä¸€æ•°æ®åº“æ–‡ä»¶ã€‚

```
EntertainmentCenter-local/
â”œâ”€â”€ database/               # âœ… æ­£ç¡®çš„æ•°æ®åº“ä½ç½®
â”‚   â””â”€â”€ entertainment.db   # ç³»ç»Ÿä½¿ç”¨çš„æ•°æ®åº“æ–‡ä»¶
â””â”€â”€ backend/
    â””â”€â”€ (ä¸å†åŒ…å«databaseç›®å½•)  # âŒ å·²æ¸…ç†
```

### ä¸»è¦æ•°æ®è¡¨ï¼š
- **users**: ç”¨æˆ·ä¿¡æ¯
- **game_records**: æ¸¸æˆè®°å½•
- **prizes**: å¥–å“é…ç½®
- **game_configs**: æ¸¸æˆé…ç½®
- **admin_logs**: ç®¡ç†æ—¥å¿—

### æ•°æ®åº“åˆå§‹åŒ–
é¦–æ¬¡å¯åŠ¨æ—¶ä¼šè‡ªåŠ¨ï¼š
1. æ£€æŸ¥å¹¶ä¿®å¤æ•°æ®åº“è¡¨ç»“æ„
2. åˆ›å»ºæ‰€æœ‰å¿…éœ€çš„æ•°æ®è¡¨
3. æ’å…¥é»˜è®¤é…ç½®æ•°æ®
4. åˆ›å»ºç®¡ç†å‘˜è´¦æˆ·

## ğŸ”§ APIæ–‡æ¡£

å¯åŠ¨åç«¯æœåŠ¡åï¼Œå¯ä»¥è®¿é—®ï¼š
- **Swagger UI**: http://localhost:8000/docs
- **ReDoc**: http://localhost:8000/redoc

### ä¸»è¦APIç«¯ç‚¹ï¼š
- `/api/auth/*` - ç”¨æˆ·è®¤è¯
- `/api/games/*` - æ¸¸æˆç›¸å…³
- `/api/users/*` - ç”¨æˆ·ç®¡ç†
- `/api/stats/*` - æ•°æ®ç»Ÿè®¡
- `/api/admin/*` - ç®¡ç†åŠŸèƒ½

## ğŸ› ï¸ å¼€å‘è¯´æ˜

### åç«¯æŠ€æœ¯æ ˆ
- **FastAPI**: Webæ¡†æ¶
- **SQLAlchemy**: ORM
- **SQLite**: æ•°æ®åº“
- **Pydantic**: æ•°æ®éªŒè¯
- **JWT**: èº«ä»½è®¤è¯

### å‰ç«¯æŠ€æœ¯æ ˆ
- **HTML5/CSS3**: é¡µé¢ç»“æ„å’Œæ ·å¼
- **JavaScript (ES6+)**: äº¤äº’é€»è¾‘
- **Canvas API**: åˆ®åˆ®ä¹æ•ˆæœ
- **CSSåŠ¨ç”»**: æ¸¸æˆåŠ¨æ•ˆ

### æ·»åŠ æ–°æ¸¸æˆ
1. åœ¨ `backend/app/games/` åˆ›å»ºæ¸¸æˆé€»è¾‘
2. åœ¨ `backend/app/api/games.py` æ·»åŠ APIç«¯ç‚¹
3. åœ¨ `frontend/js/` æ·»åŠ å‰ç«¯é€»è¾‘
4. æ›´æ–°æ¸¸æˆé…ç½®å’Œå¥–å“è®¾ç½®

## ğŸ”’ å®‰å…¨ç‰¹æ€§

- JWTä»¤ç‰Œè®¤è¯
- å¯†ç å“ˆå¸Œå­˜å‚¨
- CORSè·¨åŸŸä¿æŠ¤
- SQLæ³¨å…¥é˜²æŠ¤
- è¾“å…¥æ•°æ®éªŒè¯

## ğŸ§ª æµ‹è¯•æ¸¸æˆåŠŸèƒ½

### å¿«é€Ÿæµ‹è¯•è„šæœ¬
```python
# åˆ›å»º test_games.py
import requests

BASE_URL = "http://localhost:8000"

# 1. ç™»å½•è·å–token
login_response = requests.post(f"{BASE_URL}/api/auth/login", 
                              data={"username": "admin", "password": "admin123"})
token = login_response.json()["access_token"]

# 2. æµ‹è¯•åˆ®åˆ®ä¹
headers = {"Authorization": f"Bearer {token}"}
game_response = requests.post(f"{BASE_URL}/api/games/scratch-card/play",
                             json={"template_id": "welfare_lottery"}, 
                             headers=headers)
print("æ¸¸æˆç»“æœ:", game_response.json())
```

## ğŸ“ æ›´æ–°æ—¥å¿—

### v1.0.0 (2025-08-08)
- âœ… ä¿®å¤æ¸¸æˆæ•°æ®åº“è¡¨ç»“æ„é—®é¢˜
- âœ… ç»Ÿä¸€æ•°æ®åº“æ–‡ä»¶ä½ç½®åˆ°é¡¹ç›®æ ¹ç›®å½•
- âœ… æ¸…ç†é‡å¤å’Œä¸´æ—¶æ–‡ä»¶
- âœ… å®Œå–„é¡¹ç›®æ–‡æ¡£å’Œè¯´æ˜
- âœ… ä¼˜åŒ–æ•°æ®åº“åˆå§‹åŒ–é€»è¾‘

## ğŸš¨ æ³¨æ„äº‹é¡¹

1. **æ•°æ®åº“ä½ç½®**: ç¡®ä¿ä½¿ç”¨é¡¹ç›®æ ¹ç›®å½•çš„ `database/entertainment.db`
2. **é¦–æ¬¡å¯åŠ¨**: ç³»ç»Ÿä¼šè‡ªåŠ¨æ£€æŸ¥å’Œä¿®å¤æ•°æ®åº“è¡¨ç»“æ„
3. **ç”Ÿäº§ç¯å¢ƒ**: è¯·ä¿®æ”¹JWTå¯†é’¥å’Œæ•°æ®åº“é…ç½®
4. **CORSè®¾ç½®**: ç”Ÿäº§ç¯å¢ƒè¯·é…ç½®å…·ä½“çš„å…è®¸åŸŸå

## ğŸ¤ è´¡çŒ®æŒ‡å—

1. Fork é¡¹ç›®
2. åˆ›å»ºåŠŸèƒ½åˆ†æ”¯
3. æäº¤æ›´æ”¹
4. æ¨é€åˆ°åˆ†æ”¯
5. åˆ›å»º Pull Request

## ğŸ“„ è®¸å¯è¯

æœ¬é¡¹ç›®é‡‡ç”¨ MIT è®¸å¯è¯ - æŸ¥çœ‹ [LICENSE](LICENSE) æ–‡ä»¶äº†è§£è¯¦æƒ…
